import{m as h,a as g,r as o,j as s,A as x,_ as t,H as b}from"./index-BZ0hST_k.js";const P=()=>{const{token:u}=h(),l=g(),[a,m]=o.useState(""),[r,p]=o.useState(""),[n,i]=o.useState(!1),w=async e=>{var d,c;if(e.preventDefault(),!a||!r)return t.error("Please fill in all fields");if(a!==r)return t.error("Passwords do not match");try{i(!0),await b.post(`https://z-app-backend.onrender.com/api/auth/reset-password/${u}`,{password:a},{withCredentials:!0}),t.success("Password reset successful! Please log in."),l("/login")}catch(f){t.error(((c=(d=f.response)==null?void 0:d.data)==null?void 0:c.message)||"Something went wrong")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 px-4",children:s.jsxs("div",{className:"card w-full max-w-sm shadow-lg bg-base-100 p-6 relative",children:[s.jsxs("button",{onClick:()=>l("/login"),className:"btn btn-ghost btn-sm absolute top-4 left-4 gap-2",children:[s.jsx(x,{size:20}),s.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s.jsx("h2",{className:"text-2xl font-bold text-center mb-4 mt-8",children:"Reset Password"}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsx("input",{type:"password",placeholder:"New Password",className:"input input-bordered w-full",value:a,onChange:e=>m(e.target.value)}),s.jsx("input",{type:"password",placeholder:"Confirm Password",className:"input input-bordered w-full",value:r,onChange:e=>p(e.target.value)}),s.jsx("button",{className:`btn btn-primary w-full ${n?"loading":""}`,disabled:n,children:n?"Resetting...":"Reset Password"})]})]})})};export{P as default};
